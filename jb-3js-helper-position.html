<script>
    var PositionBehavior = {
        properties: {
            x: {
                type: 'Number',
                value: 0,
                notify: true
            },
            y: {
                type: 'Number',
                value: 0,
                notify: true
            },
            z: {
                type: 'Number',
                value: 0,
                notify: true
            }
        },
        observers: [
            'positionChanged(x, y, z)'
        ],
        ready: function() {
            this.x = parseFloat(this.x);
            this.y = parseFloat(this.y);
            this.z = parseFloat(this.z);
        },
//        getPosition: function() {
//            return {x: this.x, y: this.y, z: this.z};
//        },
        attached: function() {
            if (this.mesh) {
                this.mesh.position.set(this.x, this.y, this.z);
            }
            if (this.cssMesh) {
                this.cssMesh.position.set(this.x, this.y, this.z);
            }
        },
        positionChanged: function(x, y, z) {
            if (this.mesh) {
                this.mesh.position.set(x, y, z);
            }
            if (this.cssMesh) {
                this.cssMesh.position.set(x, y, z);
            }
            this.fire('position-changed', this);
        }
    }
</script>
