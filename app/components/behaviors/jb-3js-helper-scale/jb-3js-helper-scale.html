<script>
var ScaleBehavior = {
    properties: {
        scale: {
            type: 'Number',
            value: 1,
            notify: true
        },
        scaleX: {
            type: 'Number',
            notify: true
        },
        scaleY: {
            type: 'Number',
            notify: true
        },
        scaleZ: {
            type: 'Number',
            notify: true
        }
    },
    observers: [
        'globalScaleChanged(scale)'
    ],
    ready: function() {
        this.applyScale();
    },
    globalScaleChanged(scale) {
        this.applyScale();
    },
    applyScale: function() {
        this.scale = parseInt(this.scale);
        this.scaleX = this.scaleX ? parseInt(this.scaleX) : this.scale;
        this.scaleY = this.scaleY ? parseInt(this.scaleY) : this.scale;
        this.scaleZ = this.scaleZ ? parseInt(this.scaleZ) : this.scale;
    },
    attached: function() {
        if (this.mesh) {
            this.mesh.scale.x = this.scaleX;
            this.mesh.scale.y = this.scaleY;
            this.mesh.scale.z = this.scaleZ;
        }
        if (this.cssMesh) {
            this.cssMesh.scale.x = this.scaleX;
            this.cssMesh.scale.y = this.scaleY;
            this.cssMesh.scale.z = this.scaleZ;
        }
    }
};
</script>
