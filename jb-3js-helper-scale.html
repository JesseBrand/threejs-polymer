<script>
var ScaleBehavior = {
    properties: {
        scale: {
            type: 'Number',
            value: 1,
            notify: true
        },
        scaleX: {
            type: 'Number',
            notify: true
        },
        scaleY: {
            type: 'Number',
            notify: true
        },
        scaleZ: {
            type: 'Number',
            notify: true
        }
    },
    observers: [
		'_updateScale(scale, scaleX, scaleY, scaleZ)'
    ],
    applyScale: function() {
    	this._updateScale(this.scale, this.scaleX, this.scaleY, this.scaleZ);
    },
    _updateScale: function(s, sX, sY, sZ) {
        this.scale = parseFloat(s);
        this.scaleX = sX ? parseFloat(sX) : s;
        this.scaleY = sY ? parseFloat(sY) : s;
        this.scaleZ = sZ ? parseFloat(sZ) : s;
        if (this.mesh) {
            this.mesh.scale.x = this.scaleX;
            this.mesh.scale.y = this.scaleY;
            this.mesh.scale.z = this.scaleZ;
        }
        if (this.cssMesh) {
            this.cssMesh.scale.x = this.scaleX;
            this.cssMesh.scale.y = this.scaleY;
            this.cssMesh.scale.z = this.scaleZ;
        }
    },
    attached: function() {
    	this.applyScale();
    }
};
</script>
